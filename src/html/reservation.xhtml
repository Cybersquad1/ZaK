<div xmlns="http://www.w3.org/1999/xhtml" xmlns:nevow="http://nevow.com/ns/nevow/0.1">
  <div id="graycontainer">
    <div class="bookright">
      <div id="right_reservation">
        <h1><span nevow:render="i18n">Rooms</span> <select id="selOccupancy" onchange="changeOccupancy()"></select></h1>
        <table>
          <tr>
            <td>
              <a href="#" id="addRSetupButton" onclick="askNewRSetup()"><b><span nevow:render="i18n">Setup</span></b></a>
            </td>
            <td>
              <select id="selectSetup"></select>
            </td>
          </tr>
          <tr>
            <td>
              <span nevow:render="i18n">Remarks</span>:
            </td>
            <td colspan="2">
              <textarea id="oremarks" style="background-color:white;width:100%;height:100px"></textarea>
            </td>
          </tr>
          <tr>
            <td></td>
            <td><input type="button" onclick="saveRooms()" value="Save"></input></td>
          </tr>
        </table>
      </div>
      <div>
        <h1><span nevow:render="i18n">Occupancy</span></h1>
        <table id="table_occupancy">
          <tr>
            <td>
              <span nevow:render="i18n">Main guest</span>:
            </td>
            <td colspan="2">
              <input type="text" id="ocustomer" style="width:180px"></input>
              <!--<a style="border:none" href="javascript:addMainCustomer()"><img style="border:none;vertical-align:middle" src="/imgs/plus.png"></img></a>-->
            </td>
          </tr>
          <tr>
            <td>
              <span nevow:render="i18n">Adults</span>:
            </td>
            <td colspan="2">
              <select id="adults">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
              </select>
            </td>
          </tr>
          <tr>
            <td>
              <span nevow:render="i18n">Children</span>:
            </td>
            <td>
              <input readonly="readonly" id="childrenCounter" value="0" style="width:40px"></input>
              <b><a href="javascript:askChildren()" id="addChildrenButton">Add</a></b>
            </td>
          </tr>
        </table>
        <div align="center">
          <br/>
          <input type="submit" value="Save Occupancy" onclick="saveOccupancy()"></input>
        </div>
        <h1><span nevow:render="i18n">Customers</span></h1>
        <div style="float:right;margin:1px" id="customers_div">
          <a style="border:none" href="javascript:addCustomer()"><img style="border:none;vertical-align:middle" src="/imgs/plus.png" alt="New customer" title="New customer"></img></a>
          <a style="border:none" href="javascript:existCustomer()"><img style="border:none;vertical-align:middle" src="/imgs/plus_yellow.png" alt="Ex. customer" title="Existing customer"></img></a>
        </div>
        <table id="lcustomers">
        </table>
      </div>
    </div>
    <div class="bookright">
      <div style="float:right;text-align:center" id="resinvoice">
        <b style="color:black;font-size:12px"><span nevow:render="i18n">Res. Invoice</span></b><br/>
        <input id="ibuilder" style="display:none" type="submit" value="Build invoice" onclick="buildReservationInvoice()"></input>
        <input id="iviewer" style="display:none" type="submit" value="View invoice" onclick="goToSameDirPage('invoice')"></input>
      </div>
      <div>
        <h1><span nevow:render="i18n">Extras</span></h1>
        <table>
          <tr>
            <td>
              <a id="addExtraButton" href="javascript:askExtra()"><b><span nevow:render="i18n">New</span></b></a>
            </td>
            <td>
              <select id="selectExtra"></select>
            </td>
            <td>
              <select id="selectExtraHow">
                <option value="1" selected="selected">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
                <option value="11">11</option>
                <option value="12">12</option>
              </select>
            </td>
            <td>
              <input type="submit" value="Add" onclick="assignExtra()"></input>
            </td>
          </tr>
        </table>
        <div id="assignedExtras">
        </div>
      </div>
      <div>
        <h1><span nevow:render="i18n">Remarks</span></h1>
        <textarea id="rremarks" style="background-color:white;width: 100%;height: auto;min-height:400px"></textarea>
        <input type="submit" value="Save Remarks" onclick="saveRemarks()"></input>
      </div>
    </div>
    <div style="float:right;margin-right: 20px;margin-top:10px">
      <table id="tabtable" style="float:right">
        <tr id="tabtableheader">
        </tr>
      </table>
    </div>

  <h1 id="reservationTitle"></h1>
  <div>
    <h1><span nevow:render="i18n">Rooms pricing</span></h1>
    <span nevow:render="i18n">Apply</span> 
    <select id="choose_app" onchange="choosePricingApplication()">
      <option value="">--</option>
      <option value="pricing"><span nevow:render="i18n">Pricing</span></option>
      <option value="filter"><span nevow:render="i18n">Filter</span></option>
    </select>
    <table id="apply_pricing" style="display:none">
      <tr>
        <td>
          <b><span nevow:render="i18n">Pricing</span></b> <span nevow:render="i18n">apply</span>
          <select id="cmbpricing"><option value="1">Standard</option></select> 
          <span nevow:render="i18n">for room</span> <select class="cmbPricingRoom" id="cmbPricingRoom"></select>
          <input type="submit" onclick="changePricing()" value="Apply"></input>
        </td>
      </tr>
      <tr>
        <td>
          <span nevow:render="i18n">Remeber to save your changes!</span>
        </td>
      </tr>
    </table>
    <table id="apply_filters" style="display:none">
      <tr>
        <td>
          <b><span nevow:render="i18n">Filter</span></b> <span nevow:render="i18n">Apply</span> <select id="cmbalter"></select>
          <span nevow:render="i18n">for room</span> <select class="cmbPricingRoom" id="cmbAlterRoom"></select>
          <input type="submit" onclick="applyFilter()" value="Apply"></input> 
          (<b><a href="javascript:askVariation()">New</a></b>)
        </td>
      </tr>
      <tr>
        <td>
          <span nevow:render="i18n">Remeber to save your changes!</span>
        </td>
      </tr>
    </table>
    <table id="tablepricing" class="tablepricing"></table>
    <br/>
    <input type="submit" value="Save room prices" onclick="saveRoomsPrices()"></input>
  </div>
  <br/>
  <div>
    <h1><span nevow:render="i18n">Meals</span></h1>
    <span nevow:render="i18n">Add</span>
    <select id="howmeals">
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>
      <option value="10">10</option>
      <option value="11">11</option>
      <option value="12">12</option>
    </select>
    <select id="cmbmeal"></select>
    <span nevow:render="i18n">for the day</span> 
    <select id="cmbdaymeals"><option value=""><span nevow:render="i18n">All days</span></option></select>
      <input type="submit" value="Add" onclick="addMeal()"></input>
      (<b><a href="javascript:askMeal()"><span nevow:render="i18n">New meal</span></a></b>)
    <br/>
    <br/>
    <div id="meals_div" style="display:none">
      <table class="tablepricing" id="tablemeals">
      </table>
    </div>
  </div>
  </div>

<div class="zakmodalfree" id="children_div">
  <table>
    <tr>
      <td>
        <b style="color:white"><span nevow:render="i18n">Age</span>:</b> 
      </td>
      <td>
        <input type="text" style="width:40px" id="children_age"></input>
      </td>
    </tr>
    <tr>
      <td colspan="2" align="center">
        <input type="submit" value="Add" onclick="addChildren()"/>
      </td>
    </tr>
  </table>
  <br/>
</div>

<div class="zakmodalfree" id="rsetup_div">
  <h1><span nevow:render="i18n">Add a new setup</span></h1>
  <table>
    <tr>
      <td>
        <b style="color:white"><span nevow:render="i18n">Name</span>:</b> 
      </td>
      <td>
        <input type="text" style="width:140px" id="rsetup_name"></input>
      </td>
    </tr>
    <tr>
      <td colspan="2" align="center">
        <input type="submit" value="Add" onclick="addRSetup()"/>
      </td>
    </tr>
  </table>
</div>

<div class="zakmodalfree" id="delcustomer_div">
  <h1><span nevow:render="i18n">Deleting customer</span></h1>
  <h2><span nevow:render="i18n">Sure</span>?</h2>
  <span nevow:render="i18n">Are you sure you want delete permanently this customer</span>?<br/>
  <span nevow:render="i18n">If you want, you can simply deassociate the customer from this</span><br/>
  <span nevow:render="i18n">reservation, without removing it from your contacts</span>.
  <br/>
  <br/>
  <input type="submit" value="Remove from reservation" onclick="javascript:_delRCustomer()"></input>
  <input type="submit" value="Delete contact" onclick="javascript:_delCustomer()"></input>
  <input type="submit" value="Uh, oh, cancel" onclick="javascript:$.modal.close()"></input>
</div>

<div class="zakmodalfree" id="existcustomer_div">
  <h1><span nevow:render="i18n">Existing customer</span></h1>
    <h2><span nevow:render="i18n">Find an existent customer</span></h2>
  <table>
    <tr>
      <td>
        <b style="color:white"><span nevow:render="i18n">Name or Email</span>:</b> 
      </td>
      <td id="td_finder">
        <input type="text" id="cust_finder" style="width:200px"></input>
        <input id="cust_finder_hidden" type="hidden"></input>
      </td>
    </tr>
    <tr id="button_cust_finder" style="display:none">
      <td>
      </td>
      <td>
        <input type="submit" value="Add this customer" onclick="assignExistingCustomer()"></input>
      </td>
    </tr>
  </table>
</div>

<div class="zakmodalfree" id="addcustomer_div">
  <h1><span nevow:render="i18n">Add a new customer</span></h1>

  <table style="float:right">
    <tr>
      <td colspan="2" align="center">
        <h2 style="color:#36ff00"><span nevow:render="i18n">Contact</span></h2>
      </td>
    </tr>
    <tr>
      <td>
        <b style="color:white"><span nevow:render="i18n">Name</span>:</b> 
      </td>
      <td>
        <input type="text" style="width:140px" id="cust_name"></input> 
      </td>
    </tr>
    <tr>
      <td>
        <b style="color:white"><span nevow:render="i18n">Gender</span>:</b> 
      </td>
      <td>
        <select id="cust_gender">
          <option value="1"><span nevow:render="i18n">Male</span></option>
          <option value="2"><span nevow:render="i18n">Female</span></option>
        </select>
      </td>
    </tr>
    <tr>
      <td>
        <b style="color:white">Email:</b> 
      </td>
      <td>
        <input type="text" style="width:140px" id="cust_email"></input>
      </td>
    </tr>
    <tr>
      <td>
        <b style="color:white"><span nevow:render="i18n">Phone</span>:</b> 
      </td>
      <td>
        <input type="text" style="width:140px" id="cust_phone"></input>
      </td>
    </tr>
  </table>
  <table>
    <tr>
      <td colspan="2" align="center">
        <h2 style="color:#36ff00"><span nevow:render="i18n">Personal Info</span></h2>
      </td>
    </tr>
    <tr>
      <td>
        <b style="color:white"><span nevow:render="i18n">Country</span>:</b> 
      </td>
      <td id="countrygen">
        <input type="text" id="ac_country" style="width:140px" name="country" value="Enter country..." />
        <input type="hidden" id='ac_country_hidden'></input>
      </td>
    </tr>
    <tr>
      <td>
        <b style="color:white"><span nevow:render="i18n">City</span>:</b> 
      </td>
      <td>
        <input type="text" style="width:140px" id="cust_city"></input>
      </td>
    </tr>
    <tr>
      <td>
        <b style="color:white"><span nevow:render="i18n">Address</span>:</b> 
      </td>
      <td>
        <input type="text" style="width:140px" id="cust_address"></input>
      </td>
    </tr>
    <tr>
      <td>
        <b style="color:white"><span nevow:render="i18n">Zip</span>:</b> 
      </td>
      <td>
        <input type="text" style="width:140px" id="cust_zip"></input>
      </td>
    </tr>
    <tr>
      <td>
        <b style="color:white"><span nevow:render="i18n">Birth</span>:</b> 
      </td>
      <td>
        <select id="cust_birth_month">
          <option value="1">Jan</option>
          <option value="2">Feb</option>
          <option value="3">Mar</option>
          <option value="4">Apr</option>
          <option value="5">May</option>
          <option value="6">Jun</option>
          <option value="7">Jul</option>
          <option value="8">Aug</option>
          <option value="9">Sep</option>
          <option value="10">Oct</option>
          <option value="11">Nov</option>
          <option value="12">Dec</option>
        </select>
        <input type="text" id="cust_birth_year" style="width:50px"></input>
      </td>
    </tr>
    <tr>
      <td>
        <b style="color:white"><span nevow:render="i18n">Birth place</span>:</b> 
      </td>
      <td>
        <input type="text" style="width:140px" id="cust_birth_place"></input>
      </td>
    </tr>
  </table>

  <br/>
  <br/>
  <span nevow:render="i18n">Reservation invoice to this customer</span>: <input id="chooseForInvoice" type="checkbox" onchange="eventuallyShowInvoice()"></input><br/>
  <table>
    <tr id="row_vat" style="display:none">
      <td align="center">
        <b style="color:white"><span nevow:render="i18n">Invoice header</span></b>
      </td>
      <td>
        <span style="color:grey">(<span nevow:render="i18n">Optional, you can edit it during invoicing</span>)</span><br/>
        <textarea style="width: 300px" rows="4" id="cust_vat"></textarea>
      </td>
    </tr>
    <tr>
      <td>
        <b style="color:white"><span nevow:render="i18n">Notes</span>:</b> 
      </td>
      <td>
        <textarea id="cust_notes" style="width:300px" rows="4"></textarea>
      </td>
    </tr>
  </table>

  <br/>
  <br/>
  <input type="hidden" id="cust_id" value=""></input>
  <input type="submit" value="Save Customer" style="margin-left: 240px" onclick="assignCustomer()"/>
</div>

<div class="zakmodalfree" id="addvariation_div">
  <h1><span nevow:render="i18n">New price variation</span></h1>
  <table>
    <tr>
      <td>
        <b style="color:white"><span nevow:render="i18n">Type</span>:</b>
      </td>
      <td>
        <select id="vtype" onchange="changeVtype()">
          <option value="1"><span nevow:render="i18n">Percentage</span></option>
          <option value="2"><span nevow:render="i18n">Fixed, daily</span></option>
          <option value="3"><span nevow:render="i18n">Fixed</span></option>
        </select>
      </td>
    </tr>
    <tr>
      <td></td>
      <td><span style="color:white"><span nevow:render="i18n">Negative values are possible to define discounts</span></span></td>
    </tr>
    <tr>
      <td>
        <b style="color:white"><span nevow:render="i18n">Value</span>:</b>
      </td>
      <td>
        <input type="text" id="vvalue" style="width:45px"></input> <b style="color:white" id="vpercsym">%</b>
      </td>
    </tr>

    <tr id="vdecide">
      <td colspan="2" align="center">
        <br/>
        <input type="submit" value="Apply" onclick="stepApplyVariation()"></input>
        <input type="submit" value="Save" onclick="stepSaveVariation()"></input>
        <input type="submit" value="Save and apply" onclick="stepSaveApplyVariation()"></input>
      </td>
    </tr>

    <tr id="vapply" style="display:none">
      <td>
        <b style="color:white"><span nevow:render="i18n">ApplyTo</span>:</b>
      </td>
      <td>
        <select id="vrooms" class="cmbPricingRoom">
        </select>
      </td>
    </tr>

    <tr id="vsave" style="display:none">
      <td>
        <b style="color:white"><span nevow:render="i18n">Name</span>:</b> 
      </td>
      <td>
        <input type="text" style="width:140px" id="vname"></input>
      </td>
    </tr>

    <tr id="vsaveapply" style="display:none">
      <td colspan="2" align="center">
        <br/>
        <input type="submit" value="Save and apply" onclick="saveApplyVariation()"></input>
      </td>
    </tr>
    <tr id="vsavesave" style="display:none">
      <td colspan="2" align="center">
        <br/>
        <input type="submit" value="Save variation" onclick="saveVariation()"></input>
      </td>
    </tr>
    <tr id="vapplyapply" style="display:none">
      <td colspan="2" align="center">
        <br/>
        <input type="submit" value="Apply variation" onclick="applyVariation()"></input>
      </td>
    </tr>

  </table>
</div>

<div class="zakmodalfree" id="addextra_div">
  <h1><span nevow:render="i18n">Add a new extra</span></h1>
  <table>
    <tr>
      <td>
        <b style="color:white"><span nevow:render="i18n">Name</span>:</b> 
      </td>
      <td>
        <input type="text" style="width:140px" id="extra_name"></input>
      </td>
    </tr>
    <tr>
      <td>
        <b style="color:white"><span nevow:render="i18n">Cost</span>:</b> 
      </td>
      <td>
        <input type="text" style="width:140px" id="extra_cost"></input>
      </td>
    </tr>
    <tr>
      <td>
        <b style="color:white"><span nevow:render="i18n">Daily</span>:</b> 
      </td>
      <td>
        <select id="extra_perday">
          <option selected="selected" value="0">No</option>
          <option value="1"><span nevow:render="i18n">Yes</span></option>
        </select>
      </td>
    </tr>
    <tr>
      <td>
        <b style="color:white"><span nevow:render="i18n">Vat</span>:</b> 
      </td>
      <td>
        <input type="text" class="vatsettings" style="width:140px" id="extra_vat"></input>
      </td>
    </tr>
    <tr>
      <td>
        <b style="color:white"><span nevow:render="i18n">How</span>:</b> 
      </td>
      <td>
        <select id="extra_how">
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
        </select>
      </td>
    </tr>
    <tr>
      <td colspan="2" align="center">
        <input type="submit" value="Add" onclick="saveExtra()"/>
      </td>
    </tr>
  </table>
</div>

<div class="zakmodalfree" id="addmeal_div">
  <h1><span nevow:render="i18n">Add a new meal</span></h1>
  <table>
    <tr>
      <td>
        <b style="color:white"><span nevow:render="i18n">Name</span>:</b> 
      </td>
      <td>
        <input type="text" style="width:140px" id="mname"></input>
      </td>
    </tr>
    <tr>
      <td>
        <b style="color:white"><span nevow:render="i18n">Type</span>:</b> 
      </td>
      <td>
        <select id="mtype">
          <option value="1" selected="selected"><span nevow:render="i18n">Breakfast</span></option>
          <option value="2"><span nevow:render="i18n">Half board</span></option>
          <option value="3"><span nevow:render="i18n">Full board</span></option>
        </select>
      </td>
    </tr>
    <tr>
      <td>
        <b style="color:white"><span nevow:render="i18n">Price</span>:</b> 
      </td>
      <td>
        <input type="text" style="width:50px" id="mprice"></input>
      </td>
    </tr>
    <tr>
      <td>
        <b style="color:white"><span nevow:render="i18n">Vat</span>:</b> 
      </td>
      <td>
        <input type="text" style="width:30px" class="vatsettings" id="mvat"></input>
      </td>
    </tr>
    <tr>
      <td colspan="2" align="center">
        <input type="submit" value="Add" onclick="saveMeal()"/> 
      </td>
    </tr>
  </table>
</div>
<div id="whichinvoice" class="zakmodalfree">
  <h2><span nevow:render="i18n">Invoice type</span></h2>
  <select id="cmbwhichinvoice"><option value=""><span nevow:render="i18n">Classic Invoice</span></option></select>
  <input type="submit" value="Edit Invoice" onclick="editInvoice()"/> 
</div>

</div>
